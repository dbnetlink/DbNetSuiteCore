@page
@model SampleModel
@using DbNetSuiteCore.Components;
@using DbNetSuiteCore.Enums;
@using DbNetSuiteCore.Enums.DbNetGrid;
@using DbNetSuiteCore.Web.UI.ViewModels;
@using DbNetSuiteCore.Web.UI.Models;
@{
    DbNetGridCore employeesGrid;

    if (Model.JsonMode)
    {
        var emplolyees = await Model.GetList<Employee>("employees");
        employeesGrid = new DbNetGridCore(DataSourceType.List);
        employeesGrid.AddList<Employee>(emplolyees);
        employeesGrid.Column(nameof(Employee.EmployeeID)).PrimaryKey();
    }
    else
    {
        employeesGrid = new DbNetGridCore("northwind", "employees");
    }

    employeesGrid.Search = true;
    employeesGrid.View = true;
    employeesGrid.ViewLayoutColumns = 2;
    employeesGrid.Bind(EventType.OnViewRecordSelected, "configureNotesElement");

    @employeesGrid.Render()
}

<script>
    function configureNotesElement(grid, args) {
        $(grid.viewElement("notes")).width(200).height(100).css("overflow", "auto");
    }
</script>