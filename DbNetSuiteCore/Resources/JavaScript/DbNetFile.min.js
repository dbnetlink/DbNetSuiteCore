"use strict";class DbNetFile extends DbNetSuite{constructor(n){super(n);this.rootFolder="";this.folder="";this.columns=[]}initialize(){this.element&&(this.rootFolder=this.folder,this.element.empty(),this.folderPanel=this.addPanel("folder"),this.addLoadingPanel(),this.callServer("page"),this.initialised=!0,this.fireEvent("onInitialized"))}setColumnTypes(...n){n.forEach(n=>{this.columns.push(new FileColumn(n))})}reload(){this.callServer("page")}configurePage(n){var t,i;(t=this.folderPanel)===null||t===void 0?void 0:t.html(n.html);(i=this.folderPanel)===null||i===void 0?void 0:i.find("a.folder-link").get().forEach(n=>{$(n).on("click",n=>this.selectFolder(n))});this.fireEvent("onPageLoaded",{})}selectFolder(n){const t=$(n.currentTarget);this.folder=t.data("folder");this.callServer("page")}callServer(n){this.post(n,this.getRequest()).then(n=>{n.error==!1&&this.configurePage(n)})}getRequest(){const n=this._getRequest();return n.rootFolder=this.rootFolder,n.folder=this.folder,n.columns=this.columns.map(n=>n),n}}