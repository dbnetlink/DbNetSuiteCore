"use strict";class ImageViewer extends Dialog{constructor(n){var t,i;super(n);this.fileName="";this.$image=(t=this.$dialog)===null||t===void 0?void 0:t.find("img.main-image");this.$download=(i=this.$dialog)===null||i===void 0?void 0:i.find("a.download-link");this.button("download").on("click",()=>this.download());this.$image.on("load",()=>this.open())}show(n){this.$image.attr("src",n.attr("src"));this.fileName=n.data("filename")}download(){const n=this.$download.get(0);n.href=this.$image.attr("src");n.download=this.fileName;n.click()}}