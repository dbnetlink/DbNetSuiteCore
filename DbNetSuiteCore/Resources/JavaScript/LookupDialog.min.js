"use strict";class LookupDialog extends Dialog{constructor(n,t){var i,r,u,f;super(n);(i=this.$dialog)===null||i===void 0?void 0:i.on("dialogopen",n=>this.dialogOpened(n));this.parent=t;(r=this.$dialog)===null||r===void 0?void 0:r.find("[button-type='apply']").on("click",()=>this.apply());(u=this.$dialog)===null||u===void 0?void 0:u.find("[button-type='cancel']").on("click",()=>this.close());this.title=(f=this.$dialog)===null||f===void 0?void 0:f.dialog("option","title")}dialogOpened(){var n;(n=this.$dialog)===null||n===void 0?void 0:n.dialog("option","width",320)}update(n,t){var i,r,u;this.$input=t;this.columnIndex=parseInt(t.attr("columnIndex"));const e=this.parent.columns.find(n=>n.index==this.columnIndex);(i=this.$dialog)===null||i===void 0?void 0:i.dialog("option","title",`${e.label} ${this.title}`);(r=this.$dialog)===null||r===void 0?void 0:r.find("div.select").html(n.html);const f=(u=this.$dialog)===null||u===void 0?void 0:u.find("select");f.val((t===null||t===void 0?void 0:t.val()).split(",")).width(300);t.hasClass("dbnetedit")?f.removeAttr("multiple"):f.attr("multiple","multiple")}apply(){var n,t;const i=(n=this.$dialog)===null||n===void 0?void 0:n.find("select"),r=i.val();(t=this.$input)===null||t===void 0?void 0:t.val(r.join(",")).trigger("keyup");this.close()}}