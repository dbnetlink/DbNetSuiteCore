"use strict";class ViewDialog extends Dialog{constructor(n,t){var i,r,u;super(n);this.parent=t;(i=this.$dialog)===null||i===void 0?void 0:i.find(".next-btn").on("click",()=>this.viewNextRecord());(r=this.$dialog)===null||r===void 0?void 0:r.find(".previous-btn").on("click",()=>this.viewPreviousRecord());(u=this.$dialog)===null||u===void 0?void 0:u.find("[button-type='close']").on("click",()=>this.close())}update(n,t){var i,r,u,f,e;(i=this.$dialog)===null||i===void 0?void 0:i.find("div.content").html(n.data);(r=this.$dialog)===null||r===void 0?void 0:r.find("button.download").get().forEach(n=>{$(n).on("click",n=>this.parent.downloadCellData(n.currentTarget,!1))});(u=this.$dialog)===null||u===void 0?void 0:u.find("img.image").get().forEach(n=>{this.parent.downloadCellData(n.parentElement,!0);$(n).on("load",()=>this.setSize())});this.open();(f=this.$dialog)===null||f===void 0?void 0:f.find(".next-btn").prop("disabled",t.next(".data-row").length==0);(e=this.$dialog)===null||e===void 0?void 0:e.find(".previous-btn").prop("disabled",t.prev(".data-row").length==0);const o={dialog:this.$dialog,record:n.record};this.setSize();this.parent.fireEvent("onViewRecordSelected",o)}setSize(){var n,t,i;const r=((n=this.$dialog)===null||n===void 0?void 0:n.find("table").first().width())+10;r>((t=this.$dialog)===null||t===void 0?void 0:t.dialog("option","width"))&&((i=this.$dialog)===null||i===void 0?void 0:i.dialog("option","width",r))}viewNextRecord(){$(this.parent.selectedRow()).next().trigger("click")}viewPreviousRecord(){$(this.parent.selectedRow()).prev().trigger("click")}}