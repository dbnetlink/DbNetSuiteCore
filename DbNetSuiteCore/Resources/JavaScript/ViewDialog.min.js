"use strict";class ViewDialog extends Dialog{constructor(n,t){super(n);this.parent=t;this.$dialog.find(".next-btn").on("click",()=>this.viewNextRecord());this.$dialog.find(".previous-btn").on("click",()=>this.viewPreviousRecord());this.$dialog.find("[button-type='close']").on("click",()=>this.close())}update(n,t){this.$dialog.find("div.content").html(n.data);this.$dialog.find("button.download").get().forEach(n=>{$(n).on("click",n=>this.parent.downloadCellData(n.currentTarget,!1))});this.$dialog.find("img.image").get().forEach(n=>{this.parent.downloadCellData(n.parentElement,!0);$(n).on("load",()=>this.setHeight())});this.open();this.setHeight();this.$dialog.find(".next-btn").prop("disabled",t.next(".data-row").length==0);this.$dialog.find(".previous-btn").prop("disabled",t.prev(".data-row").length==0);let i={dialog:this.$dialog,record:n.record};this.parent.fireEvent("onViewRecordSelected",i)}setHeight(){var n=this.$dialog.find("table").first().height();n>600?this.$dialog.find("div.content").height(600):this.$dialog.find("div.content").height(n)}viewNextRecord(){$(this.parent.selectedRow()).next().trigger("click")}viewPreviousRecord(){$(this.parent.selectedRow()).prev().trigger("click")}}