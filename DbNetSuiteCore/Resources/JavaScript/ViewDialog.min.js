"use strict";class ViewDialog extends Dialog{constructor(n,t){var i,r,u,f,e;super(n);this.dialogWidth=0;this.parent=t;(i=this.$dialog)===null||i===void 0?void 0:i.on("dialogopen",n=>this.dialogOpened(n));(r=this.$dialog)===null||r===void 0?void 0:r.find("table").first().css("max-width",this.windowWidth*.6);(u=this.$dialog)===null||u===void 0?void 0:u.find(".next-btn").on("click",()=>this.viewNextRecord());(f=this.$dialog)===null||f===void 0?void 0:f.find(".previous-btn").on("click",()=>this.viewPreviousRecord());(e=this.$dialog)===null||e===void 0?void 0:e.find("[button-type='close']").on("click",()=>this.close())}update(n,t){var i,r,u,f,e;(i=this.$dialog)===null||i===void 0?void 0:i.find("div.content").html(n.data);(r=this.$dialog)===null||r===void 0?void 0:r.find("button.download").get().forEach(n=>{$(n).on("click",n=>this.parent.downloadBinaryData(n.currentTarget,!1))});(u=this.$dialog)===null||u===void 0?void 0:u.find("img.image").get().forEach(n=>{this.parent.downloadBinaryData(n,!0)});this.open();(f=this.$dialog)===null||f===void 0?void 0:f.find(".next-btn").prop("disabled",t.next(".data-row").length==0);(e=this.$dialog)===null||e===void 0?void 0:e.find(".previous-btn").prop("disabled",t.prev(".data-row").length==0);const o={dialog:this.$dialog,record:n.record,row:this.parent.selectedRow()};this.parent.fireEvent("onViewRecordSelected",o);this.setSize()}viewElement(n){var t;if((t=this.$dialog)!==null&&t!==void 0)return t.find("table.view-content-table").find(`[data-columnname='${n.toLowerCase()}']`).get(0)}dialogOpened(){var n,t;const i=((n=this.$dialog)===null||n===void 0?void 0:n.find("table").first().width())+20;(t=this.$dialog)===null||t===void 0?void 0:t.dialog("option","width",i)}setSize(){var n,t,i;const r=((n=this.$dialog)===null||n===void 0?void 0:n.find("table").first().width())+20;r>this.dialogWidth&&((t=this.$dialog)===null||t===void 0?void 0:t.dialog("option","width",r));this.dialogWidth=(i=this.$dialog)===null||i===void 0?void 0:i.dialog("option","width")}viewNextRecord(){$(this.parent.selectedRow()).next().trigger("click")}viewPreviousRecord(){$(this.parent.selectedRow()).prev().trigger("click")}}